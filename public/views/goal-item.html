<!-- public/views/goal-item.html -->

<div class="goal-page" ng-show="loadComplete">
	<breadcrumbs ng-if="isGoal" project="project" trail="breadcrumbs" goal="goal"></breadcrumbs>

	<div class="page-header">
		<h3 ng-if="isGoal">{{ goal.name }} <small>goal</small></h3>
		<h3 ng-if="!isGoal">{{ project.name }} <small>project</small></h3>
	</div>

	<div class="btn-group" dropdown>
	  <button type="button" class="btn btn-primary" ng-click="goalActions.create(project._id, goal._id)">Create</button>
	  <button type="button" class="btn btn-primary dropdown-toggle" dropdown-toggle>
	    <span class="caret"></span>
	    <span class="sr-only">Create</span>
	  </button>
	  <ul class="dropdown-menu" role="menu">
	    <li><a href ng-click="goalActions.create(project._id, goal._id)">Goal</a></li>
	    <li><a href ng-click="noteActions.create(project._id, goal._id)">Note</a></li>
	    <li><a href ng-click="milestoneActions.create(project._id, goal._id)">Milestone</a></li>
	  </ul>
	</div>
	<div class="pull-right" ng-if="!isGoal">
		<div class="btn-group">
			<a class="btn btn-primary" href="/project/{{ project._id }}/manage">Manage Project</a>
		</div>
		<div class="btn-group">
			<a class="btn btn-primary" href="/project/{{ project._id }}/categories">Edit Categories</a>
		</div>
	</div>
	<div class="pull-right" ng-if="isGoal">
		<div class="btn-group">
			<button type="button" class="btn btn-primary" ng-click="goalActions.update(goal)">Edit</button>
		</div>
		<div class="btn-group">
			<button type="button" class="btn btn-danger" ng-click="goalActions.delete(goal)">Delete</button>
		</div>
	</div>
	<div>
		<h3>Goals Timeline</h3>
		<div ng-if="subgoals.length > 0">
			<goal-list></goal-list>
		</div>
		<div ng-if="subgoals.length <= 0" class="text-center empty-notice">
			You don't have any goals here yet. Do you want to <a href="#" class="inverted">add one?</a>
		</div>
		<h3>Milestones Timeline</h3>
		<div ng-if="milestones.length > 0">
			<milestone-list></milestone-list>
		</div>
		<div ng-if="milestones.length <= 0" class="text-center empty-notice">
			You don't have any milestones here yet. Do you want to <a href="#" class="inverted">add one?</a>
		</div>
		<h3>Notes</h3>
		<div ng-if="notes.length > 0">
			<note-list></note-list>
		</div>
		<div ng-if="notes.length <= 0" class="text-center empty-notice">
			You don't have any notes here yet. Do you want to <a href="#" class="inverted">add one?</a>
		</div>
	</div>
</div>
<div ng-hide="loadComplete" class="goal-page">
	<div class="text-center empty-notice">
		<img src="img/ajax-loader.gif" />
	</div>
</div>